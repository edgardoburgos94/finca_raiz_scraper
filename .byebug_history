exit
FincaRaizScraper.new.run
exit
FincaRaizScraper.new
FincaRaizScraper.new.run
exit
FincaRaizScraper.new.run
exit
aaa
++aaa
++aa
aa++
aaa = 1
i = 1
parsed_page.css('a.link-pag')[-2].text.strip.to_i
parsed_page.css('a.link-pag')[-2].text.strip
parsed_page.css('a.link-pag')[-2].text
parsed_page.css('a.link-pag')[-1].text
parsed_page.css('a.link-pag')[-2].text
parsed_page.css('a.link-pag')[-2]
parsed_page.css('a.link-pag')
parsed_page.css('a.link-page')
parsed_page.css('a.link-page')[-2].text
exit
c
exit
apartments_adverts.count
apartments_adverts = parsed_page.css('ul.advert')
parsed_page = Nokogiri::HTML(unparsed_page)
unparsed_page
c
unparsed_page = HTTParty.get(url)
exit
c
boxcube.split("\r\n")
boxcube
exit
c
max_price
price
accepted_price_per_square_meter
price_per_square_meter
price <= max_price
price_per_square_meter <= accepted_price_per_square_meter
price_per_square_meter <= accepted_price_per_square_meter && price <= max_price
c
{a:1}[:a]
{a:1}.a
splited_boxcube[admon_location + 1].strip.gsub("$", "").gsub(",", "").to_f
splited_boxcube[admon_location + 1].strip.gsub("$", "").to_f
splited_boxcube[admon_location + 1].strip.gsub("$", "")
splited_boxcube[admon_location + 1].strip.gsub("$")
splited_boxcube[admon_location + 1].strip
splited_boxcube[admon_location + 1]
admon_location
splited_boxcube.each_with_index { |val, index| admon_location = index if /Admón/.match(val) }
splited_boxcube.split("\r\n").each_with_index { |val, index| admon_location = index if /Admón/.match(val) }
splited_boxcube.split("\r\n").each_with_index |val, index|
end
admon_location = index if /Admón/.match(val)
splited_boxcube.split("\r\n").each_with_index |val, index|
splited_boxcube = boxcube.split("\r\n")
admon_location = nil
boxcube = appartment_advert_page_parsed.css('ul.boxcube').text
appartment_advert_page_parsed = Nokogiri::HTML(appartment_advert_page_unparsed)
appartment_advert_page_unparsed = HTTParty.get("https://www.fincaraiz.com.co/apartamento-en-arriendo/bogota/sucre-det-5249769.aspx")
appartment_advert_page_parsed.css('ul.boxcube').text.split("\r\n").each_with_index { |val,index| p index if /Sector/.match(val)}
appartment_advert_page_parsed.css('ul.boxcube').text.split("\r\n").each_with_index { |val,index| p index if /Exde/.match(val)}
appartment_advert_page_parsed.css('ul.boxcube').text.split("\r\n").each_with_index { |val,index| p index if /Exelente/.match(val)}
appartment_advert_page_parsed.css('ul.boxcube').text.split("\r\n").each_with_index { |val,index| p index }
[11,22,31,224,44].each_with_index { |val,index| puts "index: #{index} for #{val}"}
appartment_advert_page_parsed.css('ul.boxcube').text.split("\r\n")
base_url + apartment_path
appartment_advert_page_parsed.css('ul.boxcube').text
appartment_advert_page_parsed = Nokogiri::HTML(appartment_advert_page_unparsed)
appartment_advert_page_unparsed = HTTParty.get(base_url + apartment_path)
appartment_advert_page.css('ul.boxcube').text
appartment_advert_page = HTTParty.get(base_url + apartment_path)
base_url + apartment_path
c
appartment_advert_page
appartment_advert_page.css('ul.boxcube').text
apartments_advert.css('ul.boxcube').text
c
10/2
apartments_adverts.first.css('li.price').text.strip.split("\r\n").first.sub('$', '').gsub('.', '').to_f
apartments_adverts.first.css('li.price').text.strip.split("\r\n").first.sub('$', '').sub('.', '').to_f
apartments_adverts.first.css('li.price').text.strip.split("\r\n").first.sub('$', '').to_f
apartments_adverts.first.css('li.price').text.strip.split("\r\n").first.sub('$', '')
apartments_adverts.first.css('li.price').text.strip.split("\r\n").first.sub(['$'], '')
apartments_adverts.first.css('li.price').text.strip.split("\r\n").first.sub('$', '').to_f
apartments_adverts.first.css('li.price').text.strip.split("\r\n").first.sub('$', '')
apartments_adverts.first.css('li.price').text.strip.split("\r\n").first.sib('$', '')
apartments_adverts.first.css('li.price').text.strip.split("\r\n").first.replace('$', '')
apartments_adverts.first.css('li.price').text.strip.split("\r\n").first
apartments_adverts.first.css('li.price').text.strip.split("\r\n")
apartments_adverts.first.css('li.price').text.strip.split('\r\n')
apartments_adverts.first.css('li.price').text.strip.split('\r')
apartments_adverts.first.css('li.price').text.strip.split(\r)
apartments_adverts.first.css('li.price').text.strip
apartments_adverts.first.css('li.price').text
apartments_adverts.first.css('li.surface').text
aparments
apartments
exit
"javascript:window.location='/apartamento-en-arriendo/bogota/teusaquillo-det-5478232.aspx'".scan(/'([^']*)'/).flatten.first
"javascript:window.location='/apartamento-en-arriendo/bogota/teusaquillo-det-5478232.aspx'".scan(/'([^']*)'/).flatten
"javascript:window.location='/apartamento-en-arriendo/bogota/teusaquillo-det-5478232.aspx'".scan(/'([^']*)'/)
"javascript:window.location='/apartamento-en-arriendo/bogota/teusaquillo-det-5478232.aspx'".scan(/'(*)'/)
"javascript:window.location='/apartamento-en-arriendo/bogota/teusaquillo-det-5478232.aspx'".scan(/'([^']*)'/)
"javascript:window.location='/apartamento-en-arriendo/bogota/teusaquillo-det-5478232.aspx'".scan(/"([^"]*)"/)
apartments_adverts.first.css('li.surface').at('li')['onclick']
apartments_adverts.first.css('li.surface').at('li')['class']
apartments_adverts.first.css('li.surface').xpath('//li[@onclick]').first.xpath('/href')
apartments_adverts.first.css('li.surface').xpath('//li[@onclick]').first.xpath('')
apartments_adverts.first.css('li.surface').xpath('//li[@onclick]').first.xpath('//href[@value]')
apartments_adverts.first.css('li.surface').xpath('//li[@onclick]').first
apartments_adverts.first.css('li.surface').xpath('//li[@onclick]').first.xpath('//href[@value]')
apartments_adverts.first.css('li.surface').xpath('//li[@onclick]').first
apartments_adverts.first.css('li.surface').xpath('//li[@onclick]')
apartments_adverts.first.css('li.surface').xpath('//li[@onclick]').first.attributes['onclick']
apartments_adverts.first.css('li.surface').xpath('//li[@onclick]').first.attributes['onclick'].content
apartments_adverts.first.css('li.surface').xpath('//li[@onclick]').first.attributes['onclick'].content.match(/'([^']+)/)
apartments_adverts.first.css('li.surface').xpath('//li[@onclick]').first.attributes['onclick'].content.match(/'([^']+)/)[1]
apartments_adverts.first.css('li.surface')
apartments_adverts.first.css('li.surface').oneClick
aparments
exit
apartments_adverts.first.css('li.surface').text.strip.split('m2').first.to_f
apartments_adverts.first
'55,00'.to_f
aparments
"    jnskdn ss".strip
exit
"    jnskdn ss".strip
"    jnskdn ss".trim
aparments
exit
apartments_adverts.count
apartments_adverts = parsed_page.css('ul.advert')
apartments_adverts = parsed_page.css('div.advert')
apartments_adverts.count
c
apartments_adverts.count
apartments_adverts
